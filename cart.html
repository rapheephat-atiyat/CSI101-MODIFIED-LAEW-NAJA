<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ - HiewHub</title>
    
    <link rel="stylesheet" href="css/global.css">
    
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body class="min-h-screen flex flex-col">
    <navbar-eiei></navbar-eiei>

    <main class="flex-1 py-10 bg-gray-50">
        <div class="max-w-7xl mx-auto px-6">
            <h1 class="text-3xl font-bold text-[#00B7EB] mb-8 flex items-center gap-3">
                <i data-lucide="shopping-cart" class="w-8 h-8 text-blue-600"></i> ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
            </h1>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="lg:col-span-2 bg-white rounded-xl shadow-lg border border-gray-200 p-6">
                    <div id="cart-items-container" class="divide-y divide-gray-100">
                        <div class="text-center py-10 text-gray-500">
                            <i data-lucide="loader-circle" class="w-8 h-8 mx-auto animate-spin"></i>
                            <p class="mt-2">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤...</p>
                        </div>
                    </div>
                </div>

                <div class="lg:col-span-1">
                    <div class="bg-white rounded-xl shadow-lg border border-gray-200 p-6 sticky top-20">
                        <h2 class="text-xl font-bold text-gray-900 mb-5 border-b pb-3">‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h2>
                        
                        <div class="space-y-3 mb-6">
                            <div class="flex justify-between text-sm text-gray-600">
                                <span>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:</span>
                                <span><span id="subtotal-price">‡∏ø0.00</span></span>
                            </div>
                            <div class="flex justify-between text-sm text-gray-600">
                                <span>‡∏Ñ‡πà‡∏≤‡∏´‡∏¥‡πâ‡∏ß :</span>
                                <span>‡∏ø0.00</span>
                            </div>
                            <div class="flex justify-between text-sm text-gray-600">
                                <span>‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏° 5 %:</span>
                                <span><span id="fee-price">‡∏ø0.00</span></span>
                            </div>
                        </div>
                        
                        <div class="flex justify-between text-lg font-bold text-gray-900 border-t pt-4">
                            <span>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:</span>
                            <span id="total-price" class="text-blue-600">‡∏ø0.00</span>
                        </div>
                        
                        <button id="checkout-button" class="w-full mt-6 py-3 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 transition-all duration-200 hover:scale-[1.03] hover:-translate-y-[2px]hover:shadow-xl disabled:bg-blue-600 disabled:hover:scale-100 disabled:hover:-translate-y-0 disabled:hover:shadow-none"disabled>
                        ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer-eiei></footer-eiei>

    <script src="js/config.js"></script>
    <script src="js/services/AuthManager.js"></script>
    <script src="js/services/CartManager.js"></script>
    <script src="js/services/ProductManager.js"></script>
    <script src="js/components/Navbar.js"></script>
    <script src="js/components/Footer.js"></script>
    <script src="js/pages/cart.js"></script>


    <script>
// -------------------------
//  ‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ
// -------------------------

const subtotal = 1500;   // üí∞ ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
const fee = 50;          // üí∏ ‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏° / ‡∏Ñ‡πà‡∏≤‡∏™‡πà‡∏á
const total = subtotal + fee;

// ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Cart (‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ UI)
document.getElementById("subtotal").textContent = subtotal.toLocaleString() + " ‡∏ö‡∏≤‡∏ó";
document.getElementById("fee").textContent = fee.toLocaleString() + " ‡∏ö‡∏≤‡∏ó";
document.getElementById("total").textContent = total.toLocaleString() + " ‡∏ö‡∏≤‡∏ó";

// -----------------------------------
//  ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô
// -----------------------------------
function goToPayment() {

    // ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏á localStorage
    localStorage.setItem("checkout_data", JSON.stringify({
        subtotal: subtotal,
        fee: fee,
        total: total
    }));

    // ‡πÄ‡∏î‡πâ‡∏á‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô
    window.location.href = "payment.html";  
}

// -----------------------------------
//  ‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô
// -----------------------------------
document.getElementById("checkoutBtn").addEventListener("click", () => {
    goToPayment();
});

</script>



</body>
</html>